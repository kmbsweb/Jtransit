<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get the Japanese transit data • Jtransit</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="Get the Japanese transit data">
<meta property="og:description" content="Allow the building the transit data,
             also providing function to get duration, fare and others.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Jtransit</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="vignette/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->


      </header><div class="row">
  <div class="contents col-md-9">
    <div id="jtransit" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#jtransit" class="anchor"></a>Jtransit</h1></div>
<div id="inroduction" class="section level2">
<h2 class="hasAnchor">
<a href="#inroduction" class="anchor"></a>Inroduction</h2>
<p>Traffic influence not only economic activity, but also human bahavior. In our daily life, we use car, rail way, bus and other vehicles, we go somewhere by walk and railway from your home.<br>
It is very important to understand traffic system, especially service area. Service areas created by Network Analyst also help evaluate accessibility. Concentric service areas show how accessibility varies with impedance.<br>
To create service area, we have to gather transit dara. Except Japan, it is possible to get the transit data(duration, fare…) from google API. Also ArcGIS(ESRI) provide some function to create service area. However, it is very expensive for student to use such charged software. So this package provide some function to get transit data from <a href="https://transit.yahoo.co.jp/" title="yahoo transit service">yahoo transit service</a>. The aim of this package is creating service area.</p>
<p><img src="https://github.com/kmbsweb/Jtransit/blob/master/pic/fare%20vs%20duration.PNG?raw=true"></p>
<ul>
<li><a href="#install">Install</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#examples">Examples</a></li>
</ul>
<p><strong>Updated the package to better suit <code>rvest</code></strong></p>
</div>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># dev version only</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"kmbsweb/Jtransit"</span>) </code></pre></div>
</div>
<div id="documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h2>
<ul>
<li><a href="https://kmbsweb.wordpress.com/">Examples</a></li>
</ul>
</div>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<p><em><code>function</code></em></p>
<ul>
<li>
<code>transit</code> - get duration and fare from origin to destianation.</li>
<li>
<code>covert_m</code> - converting unit(from hour to minute).</li>
<li>
<code>dest.loc</code> - facility geocoding.</li>
<li>
<code>transit.map.fare</code> - create map of fare.</li>
<li>
<code>transit.map.dura</code> - create map of duration.</li>
</ul>
<p><em><code>data</code></em></p>
<ul>
<li>
<code>all_sta</code> - station geometry data all over Japan.</li>
<li>
<code>hyo_sta</code> - station geometry data all over Hyogo prefecture.</li>
</ul>
<p>See <code>NEWS.md</code> for changes.</p>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(Jtransit)
<span class="kw">library</span>(dplyr)

<span class="co"># one origin, one destination</span>
<span class="co"># origin:神戸大学, destination:夙川駅</span>
<span class="co"># departure:14:15</span>
<span class="kw"><a href="reference/transit.html">transit</a></span>(<span class="st">"神戸大学"</span>,<span class="st">"夙川駅"</span>,<span class="dv">14</span>,<span class="dv">1</span>,<span class="dv">5</span>)

<span class="co"># result</span>
<span class="co"># origin destination time_h time_m1 time_m2 duration  fare   transit</span>
<span class="co"># 神戸大学      夙川駅     14       1       5     29分 220円 乗換：0回</span>
<span class="co"># alternative</span>
<span class="co">#      6</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># more than 2 origins, more than 2 destinations</span>
<span class="co"># make the example data.frame</span>
<span class="co"># remove the blank</span>

df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">textConnection</span>(
<span class="st">"origin,destination,origin2</span>
<span class="st">神戸大学,夙川駅,</span>
<span class="st">神戸大学,阪急六甲駅,</span>
<span class="st">神戸大学,王子公園駅,</span>
<span class="st">神戸大学,阪急岡本駅,</span>
<span class="st">神戸大学,阪急花隈駅,</span>
<span class="st">神戸大学,阪急御影駅,</span>
<span class="st">神戸大学,神戸三宮駅,</span>
<span class="st">神戸大学,西宮北口駅,"</span>
))

or &lt;-<span class="st"> </span><span class="kw">as.character</span>(df<span class="op">$</span>origin)
des &lt;-<span class="st"> </span><span class="kw">as.character</span>(df<span class="op">$</span>destination)

<span class="co"># prepare for the blank data.frame</span>
<span class="co"># ErrorPage &lt;- NULL</span>
Data &lt;-<span class="st"> </span><span class="kw">data.frame</span>()

<span class="co"># repetition processing</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq</span>(or)){
  <span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">"..."</span>, i, <span class="st">"行目を処理しています。"</span>))
  exdata &lt;-<span class="st"> </span><span class="kw"><a href="reference/transit.html">transit</a></span>(or[i],des[i],<span class="dv">14</span>,<span class="dv">1</span>,<span class="dv">5</span>)
    <span class="co">#row bind</span>
  Data &lt;-<span class="st"> </span><span class="kw">rbind</span>(Data, exdata)
  }</code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="NA">NA</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Keigo Matsuo <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Keigo Matsuo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>



  </body>
</html>
